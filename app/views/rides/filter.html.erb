<!-- app/views/rides/filter.html.erb -->
<div class="container my-4 filter-page">
  <h1 class="mb-3">
    Filter Rides
  </h1>

  <%= form_with url: filter_results_rides_path, method: :get, local: true, class: "row g-3 align-items-end" do |form| %>
    <!-- Driver Name Field -->
    <div class="col-sm-4">
      <%= form.label :day, "Day", class: "form-label" %>
      <%= form.text_field :day, value: params[:day], class: "form-control", size: 1, maxlength: 1 %>

      <%= form.label :driver_name, "Driver Name", class: "form-label" %>
      <%= form.text_field :driver_name, value: params[:driver_name], class: "form-control" %>

      <%= form.label :van, "Van", class: "form-label" %>
      <%= form.number_field :van, value: params[:van], class: "form-control" %>

      <%= form.label :passenger_name_and_phone, "Passenger Name & Phone", class: "form-label" %>
      <%= form.text_field :passenger_name_and_phone, value: params[:passenger_name_and_phone], class: "form-control" %>

      <%= form.label :passenger_address, "Passenger Address", class: "form-label" %>
      <%= form.text_field :passenger_address, value: params[:passenger_address], class: "form-control" %>

      <%= form.label :destination, "Destination", class: "form-label" %>
      <%= form.text_field :destination, value: params[:destination], class: "form-control" %>

      <%= form.label :driver_initials, "Driver Initials", class: "form-label" %>
      <%= form.text_field :driver_initials, value: params[:driver_initials], class: "form-control" %>

      <%= form.label :hours, "Hours", class: "form-label" %>
      <%= form.number_field :hours, value: params[:hours], class: "form-control", step: "0.1", min: "0" %>

      <%= form.label :amount_paid, "Amount Paid", class: "form-label" %>
      <%= form.number_field  :amount_paid, value: params[:amount_paid], class: "form-control", step: "0.01", min: "0" %>

      <%= form.label :ride_count, "Ride Count", class: "form-label" %>
      <%= form.text_field :ride_count, value: params[:ride_count], class: "form-control" %>

      <%= form.label :confirmed, "Confirmed with Passenger", class: "form-label" %>
      <%= form.text_field :confirmed, value: params[:confirmed], class: "form-control" %>

      <%= form.label :driver_email, "Driver Email", class: "form-label" %>
      <%= form.text_field :driver_email, value: params[:driver_email], class: "form-control" %>

      <%= form.label :start_date, "Start Date", class: "form-label" %>
      <%= date_field_tag :start_date, value: params[:start_date], class: "form-control" %>

      <%= form.label :end_date, "End Date", class: "form-label" %>
      <%= date_field_tag :end_date, value: params[:end_date], class: "form-control" %>
      
    </div>

    <!-- Buttons -->
    <div class="col-auto">
      <%= form.submit 'Filter', class: 'btn btn-primary me-2' %>
      <%= link_to 'Clear', filter_rides_path, class: 'btn btn-secondary' %>
    </div>
  <% end %>


  <%= link_to 'Back to All Rides', rides_path, class: 'btn btn-secondary back-btn' %>
  <%= link_to 'Drivers', drivers_path, class: 'btn btn-primary' %>
  <%= link_to 'Passengers', passengers_path, class: 'btn btn-primary' %>
  <%= link_to 'Shifts', shifts_path, class: 'btn btn-primary' %>

  <!-- Results -->
  <% if @rides.present? %>
    <%= render 'ride' %>
  <% else %>
    <p class="text-muted mt-3">No rides found for today.</p>
  <% end %>

  <!-- Back Link -->
  <div class="mt-4">
    <%= link_to 'Back to All Rides', rides_path, class: 'btn btn-primary me-2' %>
  </div>
</div>
